<p>user-form works!</p>
<div class="form-container">
  <div class="form-header">
    <h1>{{ isEditMode ? 'Chỉnh Sửa Người Dùng' : 'Thêm Người Dùng Mới' }}</h1>
    <button class="btn-back" routerLink="/users">← Quay lại</button>
  </div>

  <div class="form-card">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label for="fullName">Họ và Tên <span class="required">*</span></label>
          <input 
            type="text" 
            id="fullName" 
            formControlName="fullName"
            [class.invalid]="submitted && f['fullName'].errors"
            placeholder="Nhập họ và tên">
          <div class="error-message" *ngIf="submitted && f['fullName'].errors">
            <small *ngIf="f['fullName'].errors['required']">Vui lòng nhập họ và tên</small>
            <small *ngIf="f['fullName'].errors['minlength']">Họ và tên phải có ít nhất 3 ký tự</small>
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email <span class="required">*</span></label>
          <input 
            type="email" 
            id="email" 
            formControlName="email"
            [class.invalid]="submitted && f['email'].errors"
            placeholder="example@email.com">
          <div class="error-message" *ngIf="submitted && f['email'].errors">
            <small *ngIf="f['email'].errors['required']">Vui lòng nhập email</small>
            <small *ngIf="f['email'].errors['email']">Email không hợp lệ</small>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="password">Mật Khẩu <span class="required" *ngIf="!isEditMode">*</span></label>
          <input 
            type="password" 
            id="password" 
            formControlName="password"
            [class.invalid]="submitted && f['password'].errors"
            [placeholder]="isEditMode ? 'Để trống nếu không muốn thay đổi' : 'Nhập mật khẩu'">
          <div class="error-message" *ngIf="submitted && f['password'].errors">
            <small *ngIf="f['password'].errors['required']">Vui lòng nhập mật khẩu</small>
            <small *ngIf="f['password'].errors['minlength']">Mật khẩu phải có ít nhất 6 ký tự</small>
          </div>
        </div>

        <div class="form-group">
          <label for="phoneNumber">Số Điện Thoại</label>
          <input 
            type="text" 
            id="phoneNumber" 
            formControlName="phoneNumber"
            [class.invalid]="submitted && f['phoneNumber'].errors"
            placeholder="0123456789">
          <div class="error-message" *ngIf="submitted && f['phoneNumber'].errors">
            <small *ngIf="f['phoneNumber'].errors['pattern']">Số điện thoại không hợp lệ (10-11 số)</small>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="address">Địa Chỉ</label>
        <textarea 
          id="address" 
          formControlName="address"
          rows="3"
          placeholder="Nhập địa chỉ"></textarea>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="role">Vai Trò <span class="required">*</span></label>
          <select id="role" formControlName="role">
            <option value="customer">Khách hàng</option>
            <option value="admin">Quản trị viên</option>
          </select>
        </div>

        <div class="form-group">
          <label class="checkbox-label">
            <input 
              type="checkbox" 
              formControlName="isActive">
            <span>Tài khoản hoạt động</span>
          </label>
        </div>
      </div>

      <div class="form-actions">
        <button 
          type="button" 
          class="btn btn-secondary" 
          (click)="onCancel()"
          [disabled]="loading">
          Hủy
        </button>
        <button 
          type="submit" 
          class="btn btn-primary" 
          [disabled]="loading">
          <span *ngIf="!loading">{{ isEditMode ? 'Cập Nhật' : 'Thêm Mới' }}</span>
          <span *ngIf="loading">Đang xử lý...</span>
        </button>
      </div>
    </form>
  </div>
</div>